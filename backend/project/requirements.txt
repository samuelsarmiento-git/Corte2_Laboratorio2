# backend/project/requirements.txt
# Dependencias CORREGIDAS con versiones exactas compatibles
# SOLUCIÓN: Fijar pydyf a versión compatible con WeasyPrint 60.1

# ==================== CORE WEB FRAMEWORK ====================
fastapi==0.120.4
uvicorn[standard]==0.18.3

# ==================== BASE DE DATOS ====================
psycopg2-binary==2.9.10

# ==================== AUTENTICACIÓN Y SEGURIDAD ====================
pyjwt==2.8.0
bcrypt==4.0.1

# ==================== VALIDACIÓN DE DATOS ====================
pydantic==2.5.0
pydantic[email]==2.5.0

# ==================== VARIABLES DE ENTORNO ====================
python-dotenv==1.0.1

# ==================== GENERACIÓN DE PDFs (WeasyPrint) ====================
# ⚠️ CRÍTICO: Versiones fijadas para compatibilidad

# WeasyPrint versión estable
WeasyPrint==60.1

# ✅ FIX PRINCIPAL: Fijar pydyf a versión compatible
# pydyf 0.11.0+ cambió la API de PDF() y rompe WeasyPrint 60.1
pydyf==0.10.0

# Otras dependencias de WeasyPrint con versiones compatibles
cffi==1.16.0
html5lib==1.1
tinycss2==1.3.0
cssselect2==0.7.0
Pyphen==0.15.0
Pillow==10.4.0
fonttools==4.53.1

# Dependencias para Cairo/Pango (bindings Python)
cairocffi==1.7.1
CairoSVG==2.7.1

# ==================== UTILIDADES ====================
python-multipart==0.0.6
Jinja2==3.1.4
